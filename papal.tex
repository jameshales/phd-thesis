\chapter{Arbitrary positive announcement logic}\label{papal}

\section{Syntax and semantics}\label{syntax-semantics}

In this section we give the syntax and semantics of \logicPapalS{}, and we provide some semantic results about the properties of positive announcements and the arbitrary positive announcement operators.

\begin{definition}\label{papal-syntax}
The {\em language of arbitrary positive announcement logic \langPapal{}} is defined inductively as:
$$
    \phi ::=
        \atomP \mid
        \neg \phi \mid
        \phi \land \phi \mid
        \necessaryA \phi \mid
        \announceA{\phi} \phi \mid
        \allppas \phi
$$
where $\atomP \in \atoms$ and $\agentA \in \agents$.
\end{definition}

We use all of the standard abbreviations for public announcement logic, in addition to the abbreviation $\someppas \phi ::= \neg \allppas \neg \phi$.

\begin{definition}\label{papal-semantics}
Let $\kModelAndTuple \in \classS$ be an epistemic model.
The interpretation of $\phi \in \langPapal$ in the {\em positive announcement logic \logicPapalS{}} is the same as its interpretation in the public announcement logic \logicPalS{} given in Definition~\ref{pal-semantics} along with the additional inductive case:
\begin{eqnarray*}
    \kPModel{\kStateS} \entails \allppas \phi &\text{ iff }& \text{ for every } \psi \in \langMlPlus : \kPModel{\kStateS} \entails \announceA{\psi} \phi
\end{eqnarray*}
\end{definition}

\begin{example}\label{example-papal}
In Example~\ref{example-apal} we showed that $\kPModel{\kStateS} \entails \somepas \knowsB \atomP$, as $\kPModel{\kStateS} \entails \announceE{\knowsA \atomP} \knowsB \atomP$.
As $\knowsA \atomP$ is a positive formula it follows also that $\kPModel{\kStateS} \entails \someppas \knowsB \atomP$.
\end{example}

An important observation is the partial correspondence between the results of positive announcements and model restrictions that are closed under refinements, a notion that we will define now.

\begin{definition}\label{closed-under-refinements}
Let $\kModelAndTuple \in \classS$ be an epistemic model and 
let $\kStatesT \subseteq \kStates$ be a set of states.
We say that {\em $\kStatesT$ is closed under refinements in $\kModel$} if and only if for every $\kStateS, \kStateT \in \kStates$ such that $\kPModel{\kStateS} \simulates \kPModel{\kStateT}$: if $\kStateS \in \kStatesT$ then $\kStateT \in \kStatesT$.
We say that the model restriction {\em $\restrict{\kModel}{\kStatesT}$ is closed under refinements} if and only if $\kStatesT$ is closed under refinements in $\kModel$.
\end{definition}

\begin{lemma}\label{positive-announcements-refinement-closed}
The result of any positive announcement is closed under refinements.
\end{lemma}

\begin{proof}
Let $\kModelAndTuple \in \classS$ be an epistemic model and
let $\phi \in \langMlPlus$.
Suppose that $\kStateS, \kStateT \in \kStates$ such that $\kStateS \in \interpretation[\kModel]{\phi}$ and $\kPModel{\kStateS} \simulates \kPModel{\kStateT}$.
Then $\kPModel{\kStateS} \entails \phi$.
As $\kPModel{\kStateS} \simulates \kPModel{\kStateT}$ and $\phi \in \langMlPlus$ then by Lemma~\ref{refinements-preserve-positive} we have $\kPModel{\kStateT} \entails \phi$.
So $\kStateT \in \interpretation[\kModel]{\phi}$ and therefore $\restrict{\kModel}{\phi}$ is closed under refinements.
\end{proof}

\begin{lemma}\label{refinement-closed-positive-announcements}
On finite models, a model restriction that is closed under refinements is the result of a positive announcement.
\end{lemma}

\begin{proof}
Let $\kModelAndTuple \in \classS$ be an epistemic model and
let $\kStatesT \subseteq \kStates$ be a set of states such that $\restrict{\kModel}{\kStatesT}$ is closed under refinements.
Then for every $\kStateS \in \kStatesT$ and $\kStateT \in \kStates \setminus \kStatesT$ we have that $\kStateS \not\simulates \kStateT$ and as $\kModel$ is finite then by Lemma~\ref{refinements-hennessy-milner} there exists $\phi_{\kStateS,\kStateT} \in \langMlPlus$ such that $\kPModel{\kStateS} \entails \phi_{\kStateS,\kStateT}$ but $\kPModel{\kStateT} \nentails \phi_{\kStateS,\kStateT}$.
Let $\phi = \bigvee_{\kStateS \in \kStatesT} \bigwedge_{\kStateT \in \kStates \setminus \kStatesT} \phi_{\kStateS, \kStateT}$.
Then $\phi \in \langMlPlus$; 
for every $\kStateS \in \kStatesT$: $\kPModel{\kStateS} \entails \phi$; 
and for every $\kStateT \in \kStates \setminus \kStatesT$: $\kPModel{\kStateT} \nentails \phi$.
So $\interpretation[\kModel]{\phi} = \kStatesT$ and therefore $\restrict{\kModel}{\kStatesT}$ is the result of a positive announcement.
\end{proof}

We use these results to give an example of where public announcements and positive announcements differ.

\begin{example}\label{example-papal-differences}
\begin{figure}
    \caption{An example of an epistemic model with public announcements that do not correspond to any positive announcement.}\label{example-epistemic-model-2}
    \centering
    \begin{tikzpicture}[>=stealth',shorten >=1pt,auto,node distance=7em,thick]

        \node[label=above:{$\kStateS$}] (s) {\underline{$\{\atomP, \atomQ\}$}};
        \node[label=above:{$\kStateT$}] (t) [left of=s] {$\{\}$};
        \node[label=above:{$\kStateU$}] (u) [right of=s] {$\{\}$};
        \node[label=above:{$\kStateV$}] (v) [right of=u] {$\{\atomQ\}$};

      \path[every node/.style={font=\sffamily\small}]
        (t) edge node {$\agentA$} (s)
        (s) edge node {$\agentA$} (u)
        (u)  edge node {$\agentB$} (v);
    \end{tikzpicture}
\end{figure}

Consider $\kPModelAndTuple{\kStateS} \in \classS$, where $\kStates = \{\kStateS, \kStateT, \kStateU, \kStateV\}$, $\kStateS \kAccessibility{\agentA} \kStateT \kAccessibility{\agentA} \kStateU$, $\kStateU \kAccessibility{\agentB} \kStateV$, $\kValuation(\atomP) = \{\kStateS\}$ and $\kValuation(\atomQ) = \{\kStateS, \kStateV\}$.
We note that $\kPModel{\kStateU} \simulates \kPModel{\kStateT}$, and so by Lemma~\ref{positive-announcements-refinement-closed} any positive announcement that preserves $\kStateU$ must also preserve $\kStateT$.
Therefore we have that $\kPModel{\kStateS} \entails \allppas (\knowsA \suspectsB \atomQ \implies \knowsA \atomP)$, that is, any positive announcement that results in agent $\agentA$ knowing that agent $\agentB$ considers $\atomQ$ possible will also result in agent $\agentA$ knowing that $\atomP$ is true.
However we note that $\kPModel{\kStateS} \entails \announceE{\suspectsB \atomQ} (\knowsA \suspectsB \atomQ \land \neg \knowsA \atomP)$ and so $\kPModel{\kStateS} \nentails \allpas (\knowsA \suspectsB \atomQ \implies \knowsA \atomP)$.
\end{example}

Similar reasoning can be used to show that, in contrast to public announcements, a sequence of positive announcements cannot generally be expressed as a single positive announcement.

\begin{proposition}
Arbitrary positive announcements are not composable in \classS{}, i.e. it is not the case that $\classS \entails \someppas \someppas \phi \implies \someppas \phi$ for all $\phi \in \langPapal$.
\end{proposition}

\begin{proof}
\begin{figure}
    \caption{Counterexample for the composability of positive announcements.}\label{composability-s5-1}
    \centering
    \begin{tikzpicture}[>=stealth',shorten >=1pt,auto,node distance=7em,thick]

      \node[label=above:$\kStateS$] (s) {\underline{$\{\atomP\}$}};
      \node[label=above right:$\kStateT$] (t) [below right of=s] {$\{\atomP, \atomQ\}$};
      \node[label=above right:$\kStateU$] (u) [below of=t] {$\{\atomP\}$};
      \node[label=above left:$\kStateV$] (v) [below of=u] {$\{\atomP, \atomQ\}$};
      \node[label=above right:$\kStateW$] (w) [right of=u] {$\{\}$};
      \node[label=above left:{$\kStateTP$}] (t') [below left of=s] {$\{\atomP, \atomQ\}$};
      \node[label=above left:{$\kStateUP$}] (u') [below of=t'] {$\{\atomP\}$};
      \node[label=above left:{$\kStateVP$}] (v') [below of=u'] {$\{\atomP, \atomQ\}$};
      \node () [left of=u'] {};

      \path[every node/.style={font=\sffamily\small}]
        (s) edge node {$\agentA$} (t)
        (t) edge node {$\agentB$} (u)
        (u) edge node {$\agentA$} (v)
        (u) edge node {$\agentA$} (w)
        (w) edge node {$\agentA$} (v)
        (s) edge [swap] node {$\agentA$} (t')
        (t') edge node {$\agentB$} (u')
        (u') edge node {$\agentA$} (v')
        (t) edge node {$\agentA$} (t')
        (t) edge [->,dotted,bend left] node {$\simulates$} (t')
        (s) edge [->,dotted,bend right=90,min distance=2.5cm,swap] node {$\simulates$} (u');
    \end{tikzpicture}
\end{figure}

We construct a counter-example.

Let $\kModelAndTuple$ where 
$\kStates = \{\kStateS, \kStateT, \kStateU, \kStateV, \kStateW, \kStateTP, \kStateUP, \kStateVP\}$,
$\kStateS \kAccessibility{\agentA} \kStateT \kAccessibility{\agentA} \kStateTP$,
$\kStateU \kAccessibility{\agentA} \kStateV \kAccessibility{\agentA} \kStateW$,
$\kStateUP \kAccessibility{\agentA} \kStateVP$,
$\kStateT \kAccessibility{\agentB} \kStateU$,
$\kStateTP \kAccessibility{\agentB} \kStateUP$,
$\kValuation(\atomP) = \{\kStateS, \kStateT, \kStateU, \kStateV, \kStateTP, \kStateUP, \kStateVP\}$, and
$\kValuation(\atomQ) = \{\kStateT, \kStateV, \kStateTP \kStateVP\}$.

The model $\kModel$ is represented in Figure~\ref{composability-s5-1}.

We claim that $\kPModel{\kStateS} \entails \someppas \someppas (\suspectsA \atomQ \land \knowsA (\knowsB \atomQ \lor \knowsB \neg \atomQ))$ but $\kPModel{\kStateS} \nentails \someppas (\suspectsA \atomQ \land \knowsA (\knowsB \atomQ \lor \knowsB \neg \atomQ))$.

We note that $\restrict{\restrict{\kPModel{\kStateS}}{\knowsA \atomP}}{(\knowsB \atomQ \lor \knowsB \neg \atomQ)} \entails \suspectsA \atomQ \land \knowsA (\knowsB \atomQ \lor \knowsB \neg \atomQ)$ and so $\kPModel{\kStateS} \entails \someppas \someppas (\suspectsA \atomQ \land \knowsA (\knowsB \atomQ \lor \knowsB \neg \atomQ))$.

Let $\refinement = \{(\kStateX, \kStateX) \mid \kStateX \in \kStates\} \cup \{(\kStateT, \kStateTP), (\kStateU, \kStateUP), (\kStateV, \kStateVP), (\kStateTP, \kStateVP), (\kStateS, \kStateUP)\}$. 
We note that $\refinement$ is a refinement.

As $\kPModel{\kStateT} \simulates \kPModel{\kStateTP}$ then by Lemma~\ref{positive-announcements-refinement-closed} any positive announcement that preserves $\kStateT$ will also preserve $\kStateTP$ so any positive announcement that results in $\suspectsA \atomQ$ will preserve $\kStateTP$.
As $\kPModel{\kStateS} \simulates \kPModel{\kStateUP}$ then by Lemma~\ref{positive-announcements-refinement-closed} any positive announcement will preserve $\kStateUP$, so any positive announcement that results in $\suspectsA \atomQ$ will also result in $\neg \knowsA (\knowsB \atomQ \lor \knowsB \neg \atomQ)$.
Therefore $\kPModel{\kStateS} \entails \allppas (\suspectsA \atomQ \implies \neg \knowsA (\knowsB \atomQ \lor \knowsB \neg \atomQ))$ and so $\kPModel{\kStateS} \nentails \someppas (\suspectsA \atomQ \land \knowsA (\knowsB \atomQ \lor \knowsB \neg \atomQ))$.
\end{proof}

This lack of composability is interesting because it raises questions about what is possible with finite sequences of positive announcements of varying lengths.
We could introduce to the language operators of the form $\someppas^n$ for $n \in \naturals$, where $\someppas^n \phi$ means that ``$\phi$ is true after the truthful announcement of some sequence of positive formulas of length $n$''.
This would be definable through abbreviations in \langPapal{}.
We could also introduce an operator $\someppast$ for finite sequences of positive announcements of unbounded length, where $\someppast \phi$ means that ``$\phi$ is true after the truthful announcement of some finite sequence of positive formulas''.
We currently do not know whether this adds expressivity or complexity to the logic.

We continue, with the results that positive announcements have the Church-Rosser and McKinsey properties.
The proofs by Balbiani, et al.~\cite{balbiani:2008} of these properties for public announcements are not valid for positive announcements, so we present alternative reasoning.

\begin{lemma}\label{q-label}
Let $\atomsQ \subseteq \atoms$ be a set of propositional atoms
and let $\kPModel{\kStateS} \in \classS$ such that $\kPModel{\kStateS} \bisimilar[\atomsQ] \restrict{\kPModel{\kStateS}}{\{\kStateS\}}$.
Then for every $\phi \in \langPapal$ consisting only of atoms from $\atomsQ$: $\kPModel{\kStateS} \entails \phi$ if and only if $\restrict{\kPModel{\kStateS}}{\{\kStateS\}} \entails \phi$.
\end{lemma}

\begin{proof}
By induction over subformulas of $\phi$, we show for every subformula $\psi$ of $\phi$ and every state $\kStateT \in \kStates$ reachable from $\kStateS$ that $\kPModel{\kStateT} \entails \psi$ if and only if $\restrict{\kPModel{\kStateS}}{\{\kStateS\}} \entails \psi$.
All inductive cases are straightforward except perhaps for the case for $\allppas \psi$.
We note for every set of states $\kStatesT \subseteq \kStates$ and every state $\kStateT \in \kStatesT$ that $\restrict{\kPModel{\kStateT}}{\kStatesT} \bisimilar[\atomsQ] \restrict{\kPModel{\kStateT}}{\{\kStateT\}}$ so by transitivity we have that $\restrict{\kPModel{\kStateT}}{\kStatesT} \bisimilar[\atomsQ] \restrict{\kPModel{\kStateS}}{\{\kStateS\}}$.
So for every positive formula $\phi \in \langMlPlus$ if $\kPModel{\kStateT} \entails \allppas \psi$ then $\restrict{\kPModel{\kStateT}}{\phi} \bisimilar[\atomsQ] \restrict{\kPModel{\kStateS}}{\{\kStateS\}}$ so $\restrict{\kPModel{\kStateS}}{\{\kStateS\}} \entails \phi$ and therefore $\restrict{\kPModel{\kStateS}}{\{\kStateS\}} \entails \allppas \phi$.
\end{proof}

\begin{proposition}\label{church-rosser-s5}
Arbitrary positive announcements have the Church-Rosser property in \classS{}, i.e. $\classS \entails \someppas \allppas \phi \implies \allppas \someppas \phi$ for all $\phi \in \langPapal$.
\end{proposition}

\begin{proof}
Let $\kPModelAndTuple{\kStateS} \in \classS$ be an epistemic model and 
let $\phi \in \langPapal$ be a formula such that $\kPModel{\kStateS} \entails \someppas \allppas \phi$.
Let $\atomsQ \subseteq \atoms$ be the set of propositions that appear in $\phi$.
We define the formula $\ell^{\atomsQ}_{\kStateS} = \bigwedge^{\atomQ \in \atomsQ}_{\kStateS \in \kValuation(\atomQ)} (\atomQ) \land \bigwedge^{\atomQ \in \atomsQ}_{\kStateS \notin \kValuation(\atomQ)} (\neg \atomQ)$ and note that $\ell^{\atomsQ}_{\kStateS} \in \langMlPlus$.
If $\kPModel{\kStateS} \entails \someppas \allppas \phi$ then there is a positive formula $\psi \in \langMlPlus$ such that after announcing $\psi$ every positive announcement will cause $\phi$ to be true.
Therefore $\restrict{\kPModel{\kStateS}}{\psi} \entails \allppas \phi$ and so $\restrict{\restrict{\kPModel{\kStateS}}{\psi}}{\ell^{\atomsQ}_{\kStateS}} \entails \phi$.
However, regardless of the announcement $\psi$ we have that $\restrict{\restrict{\kPModel{\kStateS}}{\psi}}{\ell^{\atomsQ}_{\kStateS}} \bisimilar[\atomsQ] \restrict{\kPModel{\kStateS}}{\{\kStateS\}}$, so by Lemma~\ref{q-label} it follows that $\restrict{\kPModel{\kStateS}}{\{\kStateS\}} \entails \phi$.
Now suppose that $\psi \in \langMlPlus$ is a positive formula such that $\kPModel{\kStateS} \entails \psi$.
Then $\restrict{\restrict{\kPModel{\kStateS}}{\psi}}{\ell^{\atomsQ}_{\kStateS}} \bisimilar[\atomsQ] \restrict{\kPModel{\kStateS}}{\{\kStateS\}}$.
From above we have that $\restrict{\kPModel{\kStateS}}{\{\kStateS\}} \entails \phi$ so by Lemma~\ref{q-label} we have that $\restrict{\restrict{\kPModel{\kStateS}}{\psi}}{\ell^{\atomsQ}_{\kStateS}} \entails \phi$, and so $\kPModel{\kStateS} \entails \allppas \someppas \phi$ as required.
\end{proof}

\begin{proposition}
Arbitrary positive announcements have the McKinsey property in \classS{}, i.e. $\classS \entails \allppas \someppas \phi \implies \someppas \allppas \phi$ for all $\phi \in \langPapal$.
\end{proposition}

\begin{proof}
This proof is very similar to the proof for the Church-Rosser property.
Let $\kPModelAndTuple{\kStateS} \in \classS$ be an epistemic model and let $\phi \in \langPapal$ be a formula such that $\kPModel{\kStateS} \entails \allppas \someppas \phi$.
Let $\atomsQ \subseteq \atoms$ be the set of propositions that appear in $\phi$.
Recall the definition of $\ell^{\atomsQ}_{\kStateS}$ from the proof of Proposition~\ref{church-rosser-s5}.
Then we have that $\restrict{\kPModel{\kStateS}}{\ell^{\atomsQ}_{\kStateS}} \entails \someppas \phi$.
We can see for any positive formula $\psi \in \langMlPlus$ that $\restrict{\restrict{\kPModel{\kStateS}}{\ell^{\atomsQ}_{\kStateS}}}{\psi} \bisimilar[\atomsQ] \restrict{\kPModel{\kStateS}}{\{\kStateS\}}$, so by Lemma~\ref{q-label} it follows that $\restrict{\kPModel{\kStateS}}{\{\kStateS\}} \entails \phi$.
By this reasoning we must also have that $\restrict{\kPModel{\kStateS}}{\ell^{\atomsQ}_{\kStateS}} \entails \allppas \phi$ and so $\kPModel{\kStateS} \entails \someppas \allppas \phi$ as required.
\end{proof}

Finally we note that \logicPapalS{}, like \logicApalS{}, is not compact.

A (possibly infinite) set of formulas is {\em satisfiable} in a logic if and only if there exists an epistemic model $\kPModel{\kStateS} \in \classS$ that satisfies every formula from the set. 
A set of formulas is {\em finitely satisfiable} in a logic if and only if every finite subset of the set of formulas is satisfiable.
A logic is {\em compact} if and only if every finitely satisfiable set of formulas is satisfiable in the logic.

\begin{proposition}
\logicPapalS{} is not compact.
\end{proposition}

This follows from the same reasoning used by Balbiani, et al.~\cite{balbiani:2008} to show that \logicApalS{} is not compact.
Specifically, a set of formulas $\{\announceA{\psi} (\knowsA \atomP \implies \knowsB \knowsA \atomP) \mid \psi \in \langMlPlus\} \cup \{\neg \allppas (\knowsA \atomP \implies \knowsB \knowsA \atomP)\}$ is demonstrated which is finitely satisfiable but not satisfiable under the semantics of \logicPapalS{}.

\section{Model-checking}\label{model-checking}

In this section we show that the model-checking problem for \logicPapalS{} is PSPACE-complete.
The {\em model-checking problem} for \logicPapalS{} is to determine for a given formula $\phi \in \langPapal$ and epistemic model $\kPModel{\kStateS} \in \classS$ whether $\kPModel{\kStateS} \entails \phi$.
The model-checking procedure for \logicPapalS{} is a simple modification of the model-checking procedure for \logicApalS{} of Ågotnes, et al.~\cite{agotnes:2010} taking advantage of the characterisation of positive announcements of Lemma~\ref{positive-announcements-refinement-closed} and Lemma~\ref{refinement-closed-positive-announcements} as model restrictions that are closed under refinements.

\begin{lemma}\label{maximal-refinement}
Let $\kModelAndTuple, \kModelAndTupleP \in \classS$ be epistemic models.
There is a unique, maximal refinement $\refinement \subseteq \kStates \times \kStatesP$ from $\kModel$ to $\kModelP$ and it is computable in polynomial time.
\end{lemma}

This follows from similar reasoning and using a similar algorithm to the analogous result for bisimulations~\cite{goranko:2006}, relaxing the {\bf forth} condition appropriately.

\begin{theorem}\label{papal-model-checking-pspace}
The model-checking problem for \logicPapalS{} is in PSPACE.
\end{theorem}

\begin{proof}{(Sketch)}
We note that PSPACE=APTIME~\cite{chandra:1981}.
We adapt the APTIME model-checking procedure for \logicApalS{} of Ågotnes, et al.~\cite{agotnes:2010}.
The only modification required is that when we non-deterministically choose a model restriction we must ensure that it corresponds to a positive announcement.
From Lemma~\ref{positive-announcements-refinement-closed} and Lemma~\ref{refinement-closed-positive-announcements}, on finite epistemic models the results of positive announcements correspond exactly to those model restrictions that are closed under refinements.
By Lemma~\ref{maximal-refinement} we can compute the maximal refinement from a model to itself and determine whether a model restriction is closed under refinements in polynomial time.
Thus the algorithm remains APTIME.
\end{proof}

We note that if we extend \logicPapalS{} with the $\someppast$ operator for finite sequences of positive announcements, that the model-checking problem is still in APTIME, as on finite models the length of a sequence of non-trivial model restrictions, where each model restriction removes at least one state, is bounded by the number of states in the model.

\begin{theorem}\label{papal-model-checking-pspace-hard}
The model-checking problem for \logicPapalS{} is PSPACE-hard.
\end{theorem}

\begin{proof}{(Sketch)}
This follows from the same reasoning used by Ågotnes, et al.~\cite{agotnes:2010} in the setting of \logicApalS{}, showing that instances of the QBF-SAT problem can be solved through model-checking a \langPapal{} formula on an appropriately constructed model.
We note that the model is constructed such that each state has a unique valuation, so any restriction of the model is closed under refinements and is definable as the result of a positive announcement (actually a propositional announcement).
Therefore the result of any public announcement on this model is also the result of a positive announcement, and the interpretation of $\allppas$ and $\allpas$ is the same on this model.
\end{proof}

\section{Expressivity}\label{expressivity}

In this section we compare the expressivity of \logicPapalS{} to \logicPalS{} and \logicApalS{}.

If a logic $\logic_1$ can express all of the semantic properties that can be expressed in another logic $\logic_2$ we say that $\logic_1$ is {\em at least as expressive} as $\logic_2$ or equivalently that $\logic_2$ is {\em at most as expressive} as $\logic_1$.
If two logics $\logic_1$ and $\logic_2$ are each at least as expressive as the other we say that $\logic_1$ is {\em expressively equivalent} to $\logic_2$, and vice-versa.
If $\logic_1$ is at least as expressive as $\logic_2$ and in addition there are semantic properties that can be expressed in $\logic_1$ that cannot be expressed in $\logic_2$ we say that $\logic_1$ is {\em strictly more expressive} than $\logic_2$ or equivalently that $\logic_2$ is {\em strictly less expressive} than $\logic_1$.
If $\logic_1$ and $\logic_2$ are neither at least as expressive than the other then we say that $\logic_1$ is {\em incomparable} in expressivity to $\logic_2$.

\begin{theorem}
\logicPapalS{} is expressively equivalent to \logicPalS{} for a single agent.
\end{theorem}

\begin{theorem}
\logicPapalS{} is strictly more expressive than \logicPalS{} for multiple agents.
\end{theorem}

These results follows from the same reasoning to that used by Balbiani, et al.~\cite{balbiani:2008} to show analogous results for \logicApalS{}.
It follows that \logicPapalS{} is expressively equivalent to \logicApalS{} for a single agent, however for multiple agents there is a different story.

\begin{theorem}\label{expressivity-s5}
\logicPapalS{} is not at least as expressive as \logicApalS{} for multiple agents.
\end{theorem}

\begin{proof}{(Sketch)} 
%\todo[inline]{Prove that construction preserves $n$-bisimilarity of $\kStateS[l]$ and $\kStateS[r]$. Construction may need to be modified (proxy states).}
We construct two classes of epistemic models $\mathcal{B}$ and $\overline{\mathcal{B}}$ and show that there is formula in \langApal{} that can distinguish between the two classes, but there is no formula in \langPapal{} with this property. 
We will use just two agents $\agentA, \agentB \in \agents$ to construct this class.
Let $\kPModel[l]{\kStateS[l]}, \kPModel[r]{\kStateS[r]} \in \classS$ be disjoint epistemic models. 
We construct a new model $C(\kPModel[l]{\kStateS[l]},\kPModel[r]{\kStateS[r]}) = \kModelTuple$ where:
\begin{eqnarray*}
    \kStates &=& \kStates[l] \cup \kStates[r] \cup \{\kStateS, \kStateT\}\\
    \kAccessibility{\agentA} &=& \bigcup \left\{ \begin{array}{l}
            \kAccessibility[l]{\agentA} \setminus \{(\kStateS[l], \kStateU), (\kStateU, \kStateS[l]) \mid \kStateU \in \kStates, \kStateU \neq \kStateS[l]\},\\
            \kAccessibility[r]{\agentA} \setminus \{(\kStateS[r], \kStateU), (\kStateU, \kStateS[r]) \mid \kStateU \in \kStates, \kStateU \neq \kStateS[r]\},\\
            \{(\kStateS[l], \kStateS), (\kStateS, \kStateS[l]), (\kStateS, \kStateS),
              (\kStateS[r], \kStateT), (\kStateT, \kStateS[r]), (\kStateT, \kStateT)\}
        \end{array}\right\}\\
    \kAccessibility{\agentB} &=& \kAccessibility[l]{\agentB} \cup \kAccessibility[r]{\agentB} \cup \{(\kStateS, \kStateS), (\kStateS, \kStateT), (\kStateT, \kStateS), (\kStateT, \kStateT)\}\\
    \kAccessibility{\agentC} &=& \kAccessibility[l]{\agentC} \cup \kAccessibility[r]{\agentC} \cup \{(\kStateS, \kStateS), (\kStateT, \kStateT)\} \text{ for } \agentC \in \agents \setminus \{\agentA, \agentB\}\\
    \kValuation(\atomP) &=& \kValuation[l](\atomP) \setminus \{\kStateS[l]\} \cup \kValuation[r](\atomP) \setminus \{\kStateS[r]\} \cup \{\kStateS, \kStateT\}\\
    \kValuation(\atomQ) &=& \kValuation[l](\atomQ) \cup \kValuation[r](\atomQ) \text{ for } \atomQ \in \atoms \setminus \{\atomP\}
\end{eqnarray*}

\begin{figure}
    \caption{Constructions used for Theorem~\ref{expressivity-s5}}
    \centering
    \begin{subfigure}[t]{\linewidth}
        \centering
        \begin{tikzpicture}[>=stealth',shorten >=1pt,auto,node distance=7em,thick]

          \node (u)  {$\kPModel[l]{\kStateS[l]}$};
          \node[label=above:{$\kStateS$}] (s) [right of=u] {\underline{$\{\atomP\}$}};
          \node[label=above:{$\kStateT$}] (t) [right of=s] {$\{\atomP\}$};
          \node (v) [right of=t] {$\kPModel[r]{\kStateS[r]}$};

          \path[every node/.style={font=\sffamily\small}]
            (s) edge node {$\agentB$} (t)
            (u) edge node {$\agentA$} (s)
            (t) edge node {$\agentA$} (v);
        \end{tikzpicture}
        \caption{The model $C(\kPModel[l]{\kStateS[l]},\kPModel[r]{\kStateS[r]})$.}\label{expressivity-s5-1}
    \end{subfigure}
    \begin{subfigure}[t]{\linewidth}
        \centering
        \begin{tikzpicture}[>=stealth',shorten >=1pt,auto,node distance=7em,thick]

          \node (0) [label=above:{$0$}] {\underline{$\{\atomQ\}$}};
          \node (1) [right of=0,label=above:{$1$}] {$\{\}$};
          \node (2) [right of=1,label=above:{$2$}] {$\{\}$};
          \node (3) [right of=2] {$\cdots$};

          \path[every node/.style={font=\sffamily\small}]
            (0) edge node {$\agentA$} (1)
            (1) edge node {$\agentB$} (2)
            (2) edge node {$\agentA$} (3);
        \end{tikzpicture}
        \caption{The model $\kPModelP{0}$.}\label{expressivity-s5-2}
    \end{subfigure}
    \begin{subfigure}[t]{\linewidth}
        \centering
        \begin{tikzpicture}[>=stealth',shorten >=1pt,auto,node distance=7em,thick]

          \node (0) [label=above:{$0$}] {\underline{$\{\atomQ\}$}};
          \node (1) [right of=0,label=above:{$1$}] {$\{\}$};
          \node (2) [right of=1] {$\cdots$};
          \node (3) [right of=2,label=above:{$d(\phi)$}] {$\{\}$};

          \path[every node/.style={font=\sffamily\small}]
            (0) edge node {$\agentA$} (1)
            (1) edge node {$\agentB$} (2)
            (2) edge node {$\agentA$} (3);
        \end{tikzpicture}
        \caption{The model $\kPModel[\prime\prime]{0}$.}\label{expressivity-s5-3}
    \end{subfigure}
\end{figure}

Let $\mathcal{B}$ be the class of pointed models $C(\kPModel[l]{\kStateS[l]},\kPModel[r]{\kStateS[r]})_{\kStateS}$ where $\kPModel[l]{\kStateS[l]}$ and $\kPModel[r]{\kStateS[r]}$ are agree on all epistemic formulas, and let $\overline{\mathcal{B}}$ be the class of models $C(\kPModel[l]{\kStateS[l]},\kPModel[r]{\kStateS[r]})_{\kStateS}$ where $\kPModel[l]{\kStateS[l]}$ and $\kPModel[r]{\kStateS[r]}$ do not agree on all epistemic formulas. 
Then $\mathcal{B} \entails \allpas(\knowsB \knowsA \atomP \lor \knowsB \neg \knowsA \atomP)$.
That is, any public announcement that removes $\kStateS[l]$ must also remove $\kStateS[r]$ and vice-versa. 
This is a direct consequence of $\kStateS[l]$ and $\kStateS[r]$ agreeing on all epistemic formulas.
Likewise, $\overline{\mathcal{B}} \nentails \allpas(\knowsB \knowsA \atomP \lor \knowsB \neg \knowsA \atomP)$.
That is, there is a public announcement that can remove $\kStateS[l]$ without removing $\kStateS[r]$ and vice-versa.
This is a direct consequence of $\kStateS[l]$ and $\kStateS[r]$ {\em not} agreeing on all epistemic formulas.

Let $\phi \in \langPapal$ be a formula of arbitrary positive announcement logic.

We define the epistemic model $\kPModelAndTupleP{0}$ where:
\begin{eqnarray*}
    \kStatesP &=& \naturals\\
    \kAccessibilityP{\agentA} &=& \{(n, n), (n, n + 1), (n + 1, n), (n + 1, n + 1) \\&&\quad \mid n \in \naturals, n \text{ is even}\}\\
    \kAccessibilityP{\agentB} &=& \{(n, n), (n, n + 1), (n + 1, n), (n + 1, n + 1) \\&&\quad \mid n \in \naturals, n \text{ is odd}\}\\
    \kValuationP(\atomQ) &=& \{0\}
\end{eqnarray*}

We also define the epistemic model $\kPModel[\prime\prime]{0} = \restrict{\kPModelP{0}}{\{n \in \naturals \mid n \leq d(\phi)\}}$, the restriction of $\kModel$ to states less than or equal to the modal depth of $\phi$.

We note that $\kPModelP{0} \bisimilar[d(\phi)] \kPModel[\prime\prime]{0}$, so the two models agree on all epistemic formulas with modal depth less than or equal to $d(\phi)$.
We also note for every $n \geq m > 0$ that $\kPModelP{n} \simulates \kPModelP{m}$ and for every $d(\phi) \geq n \geq m > 0$ that $\kPModel[\prime\prime]{n} \simulates \kPModel[\prime\prime]{m}$.
So for both models the only non-trivial model restrictions that are closed under refinements is the restriction to $\{0\}$, where $\restrict{\kPModelP{0}}{\{0\}} \bisimilar \restrict{\kPModel[\prime\prime]{0}}{\{0\}}$, and the restriction to $\naturals \setminus \{0\}$ where $\restrict{\kPModelP{n}}{\naturals \setminus \{0\}} \bisimilar \restrict{\kPModel[\prime\prime]{n}}{\naturals \setminus \{0\}}$ for every $n \in \naturals$, so the interpretation of $\someppas$ and $\allppas$ operators must be the same in corresponding states of each model.
Therefore both models agree on all arbitrary positive announcement formulas with modal depth less than or equal to $d(\phi)$.

However the two models do not agree on all epistemic formulas.
In $\kModel[\prime\prime]$, every state can reach a state where $\atomQ$ is true in at most $d(\phi)$ steps, but this is not the case for $\kModelP$.

Thus $C(\kPModelP{0}, \kPModel[\prime\prime]{0})_{\kStateS}$ satisfies $\phi$ if and only if $C(\kPModelP{0}, \kPModelP{0})_{\kStateS}$ satisfies $\phi$.
It follows that $\phi$ cannot distinguish $\mathcal{B}$ from $\overline{\mathcal{B}}$ and therefore \logicPapalS{} not at least as expressive as \logicApalS{}.
\end{proof}

We conjecture that \logicPapalS{} is incomparable to \logicApalS{}.

\section{Axiomatisation}\label{papal-axiomatisation}

In this section we provide a sound and complete axiomatisation for arbitrary positive announcement logic.
The axiomatisation is essentially a modified version of the axiomatisation for arbitrary public announcement logic given by Balbiani, et al.~\cite{balbiani:2008,balbianietal.short:2014}, but with restrictions to positive announcements in appropriate axioms.

\begin{definition}
Consider a new symbol $\sharp$. The {\em necessity forms} are defined inductively as: $$\psi(\sharp) ::= \sharp \mid (\phi \implies \psi(\sharp)) \mid \announceA{\phi} \psi(\sharp) \mid \knowsA \psi(\sharp)$$ where $\phi \in \langPapal$ and $\agentA \in \agents$.

The {\em possibility forms} are defined inductively as: $$\psi(\sharp) ::= \sharp \mid (\phi \land \psi(\sharp)) \mid \announceE{\phi} \psi(\sharp) \mid \suspectsA \psi(\sharp)$$ where $\phi \in \langPapal$ and $\agentA \in \agents$.
\end{definition}

A possibility form is the dual of a necessity form. Necessity and possibility forms contain a unique occurrence of the symbol $\sharp$. If $\psi(\sharp)$ is a necessity or possibility form and $\phi \in \langPapal$, then $\psi(\phi)$ is $\psi(\sharp)[\phi/\sharp]$ and $\psi(\phi) \in \langPapal$.

The axiomatisation \axiomPapalS{} is given below.

\begin{definition}
The axiomatisation \axiomPapalS{} is a substitution schema consisting of the axioms and rules:
$$
\begin{array}{ll}
    {\bf P} & \text{All propositional tautologies}\\
    {\bf K} & \proves \knowsA (\phi \implies \psi) \implies (\knowsA \phi \implies \knowsA \psi)\\
    {\bf T} & \proves \knowsA \phi \implies \phi\\
    {\bf 4} & \proves \knowsA \phi \implies \knowsA \knowsA \phi\\
    {\bf 5} & \proves \neg \knowsA \phi \implies \knowsA \neg \knowsA \phi\\
    {\bf AP} & \proves \announceA{\phi} \atomP \iff (\phi \implies \atomP)\\
    {\bf AN} & \proves \announceA{\phi} \neg \psi \iff (\phi \implies \neg \announceA{\phi} \psi)\\
    {\bf AC} & \proves \announceA{\phi} (\psi \land \chi) \iff (\announceA{\phi} \psi \land \announceA{\phi} \chi)\\
    {\bf AK} & \proves \announceA{\phi} \knowsA \psi \iff (\phi \implies \knowsA \announceA{\phi} \psi)\\
    {\bf AA} & \proves \announceA{\phi} \announceA{\psi} \chi \iff \announceA{\phi \land \announceA{\phi} \psi} \chi\\
    {\bf A+} & \proves \allppas \phi \implies \announceA{\psi} \phi \text{ where } \psi \in \langMlPlus\\
    {\bf MP} & \text{From } \proves \phi \text{ and } \proves \phi \implies \psi \text{ infer } \proves \psi\\
    {\bf NecK} & \text{From } \proves \phi \text{ infer } \proves \knowsA \phi\\
    {\bf NecA} & \text{From } \proves \phi \text{ infer } \proves \announceA{\psi} \phi\\
    {\bf R+^\omega} &\text{From } \proves \nu(\announceA{\psi} \phi) \text{ for every } \psi \in \langMlPlus \text{ infer } \nu(\allppas \phi)    \end{array}
$$
where $\nu(\sharp)$ is a necessity form.
\end{definition}

If $\proves \phi$ we say that $\phi$ is {\em provable} using the axiomatisation \axiomPapalS{}.
If $\Gamma \subseteq \langPapal$ is a set of formulas and there are $\gamma_1, \dots, \gamma_n \in \Gamma$ such that $\proves (\gamma_1 \land \cdots \land \gamma_n) \implies \phi$ we say that $\phi$ is {\em deducible} from $\Gamma$ and we write $\Gamma \proves \phi$.
If $\Gamma \nproves \bot$ we say that $\Gamma$ is {\em consistent}.
If every formula provable using an axiomatisation for a logic is valid in the semantics of the logic we say that the axiomatisation is {\em sound}.
If every formula valid in the semantics of a logic is provable using an axiomatisation for a logic we say that the axiomatisation is {\em (weakly) complete}.
If every set of formulas that is consistent according to an axiomatisation for a logic is satisfiable in the semantics of the logic we say that the axiomatisation is {\em strongly complete}.

\begin{theorem}
The axiomatisation \axiomPapalS{} is sound and strongly complete for the logic \logicPapalS{}.
\end{theorem}

\begin{proof}
The soundness of the axiomatisation is evident as the axiom {\bf A+} and the rule {\bf R+} follow the semantics of the $\allppas$ operator, and all remaining axioms and rules are standard from epistemic logic and public announcement logic.

The completeness proof proceeds exactly as in \cite{balbianietal.short:2014}, with appropriate restrictions to positive announcements in the cases of {\bf A+} and {\bf R+}.
For clarity we show these cases are indeed correct.

The completeness proof is with a standard canonical model technique.
The set of states $\kStates$ is defined to be the set of all maximally consistent sets of \langPapal{} formulas.
The accessibility relations $\kAccessibility{\agentA}$ refer only to epistemic formulas $\knowsA \phi$ and not to the $\allppas$ operator.
To show completeness we must show the Truth Lemma holds: for every maximally consistent set of formulas $\kStateS \in \kStates$ and every $\phi \in \langPapal$, $\phi \in \kStateS$ if and only if $\kPModel{\kStateS} \entails \phi$.
The Truth Lemma is shown by induction on the formula $\phi$.
It uses a complexity measure $<^\text{Size}_d$ on formulas that we defined identically on \langPapal{} as on \langApal{}.
The positive arbitrary announcement operator $\allppas$ only features in the subinductive case $\announceA{\psi} \allppas \chi$ and in the inductive case $\allppas \psi$.
The revised proofs for these cases are as follows.
The only change with respect to \cite{balbianietal.short:2014} is the restriction to positive formulas in the appropriate places.

{\bf Case $\phi = \announceA{\psi} \allppas \chi$}.
The following conditions are equivalent:
\begin{enumerate}
    \item $\announceA{\psi} \allppas \chi$.
    \item For every $\theta \in \langMlPlus$: $\announceA{\psi} \announceA{\theta} \chi \in \kStateS$.
    \item For every $\theta \in \langMlPlus$: $\kPModel{\kStateS} \entails \announceA{\psi} \announceA{\theta} \chi$.
    \item $\kPModel{\kStateS} \entails \announceA{\psi} \allppas \chi$.
\end{enumerate}
From 2 to 1 we use the derivation rule {\bf R+} on the necessity form $\announceA{\psi} \announceA{\theta} \chi$ and the closure of maximally consistent sets under {\bf R+}. 
From 1 to 2 we use the axiom {\bf A+} and propositional reasoning. 
From step 2 to 3 we use the complexity measure $<^\text{Size}_d$, where we observe that $\announceA{\psi} \allppas \chi$ contains one fewer $\allppas$ operators than $\announceA{\psi} \announceA{\theta} \chi$, which allows us to use the induction hypothesis. 
From step 3 to 4 we use the semantics of the $\allppas$ operator.

Therefore $\announceA{\psi} \allppas \chi \in \kStateS$ if and only if $\kPModel{\kStateS} \entails \announceA{\psi} \allppas \chi$.

{\bf Case $\phi = \allppas \psi$}.
The following conditions are equivalent:
\begin{enumerate}
    \item $\allppas \psi \in \kStateS$.
    \item For every $\theta \in \langMlPlus$: $\announceA{\theta} \psi \in \kStateS$.
    \item For every $\theta \in \langMlPlus$: $\kPModel{\kStateS} \entails \announceA{\theta} \psi$.
    \item $\kPModel{\kStateS} \entails \allppas \psi$.
\end{enumerate}
The equivalence between 2 and 3 follows from the fact that for every epistemic formula $\theta$, $\announceA{\theta} \psi <^\text{Size}_d \allppas \psi$.

Therefore $\allppas \psi \in \kStateS$ if and only if $\kPModel{\kStateS} \entails \allppas \psi$.
\end{proof}

We note that \axiomPapalS{} is an infinitary axiomatisation, as the rule ${\bf R+^\omega}$ requires an infinite number of premises.
As in the axiomatisation of Balbiani, et al.~\cite{balbiani:2008} we can simplify this rule to a finitary rule.
To do so we first show that if $\someppas \phi$ is satisfiable then so is $\announceE{\atomP} \phi$ for some fresh atom $\atomP$. 

\begin{lemma}\label{diamond-lemma}
Let $\kPModelAndTuple{\kStateS} \in \classS$ be an epistemic model and
let $\phi \in \langPapal$ be a formula such that $\kPModel{\kStateS} \entails \someppas \phi$.
Then there exists $\kPModelP{\kStateSP} \in \classS$ such that $\kPModelP{\kStateSP} \entails \announceE{\atomP} \phi$ where $\atomP \in \atoms$ does not appear in $\phi$.
\end{lemma}

\begin{proof}[(Sketch)]
As $\kPModel{\kStateS} \entails \someppas \phi$ there exists $\psi \in \langMlPlus$ such that $\kPModel{\kStateS} \entails \announceE{\psi} \phi$.
Let $\atomsQ = \{\atomQ_n \mid n \in \naturals\} \subseteq \atoms$ be an infinite set of atoms not appearing in $\phi$ or $\psi$.
We define $\kModelAndTupleP$ where:
\begin{eqnarray*}
    \kStatesP &=& \{\top, \bot\} \times \kStates\\
    \kAccessibilityP{\agentA} &=& \{((x, \kStateS), (y, \kStateT)) \mid x, y \in \{\top, \bot\}, \kStateS, \kStateT \in \kStates, \kStateS \kAccessibility{\agentA} \kStateT \}\\
    \kValuationP(\atomQ_0) &=& \{\top\} \times \interpretation[\kModel]{\psi}\\
    \kValuationP(\atomQ_{n + 1}) &=&  \{\top, \bot\} \times \kValuation(\atomQ_n) \text{ for every } n \in \naturals\\
    \kValuationP(\atomP) &=& \{\top, \bot\} \times \kValuation(\atomP) \text{ for every } \atomP \in \atoms \setminus \atomsQ
\end{eqnarray*}

We claim that $\kPModelP{(\top, \kStateS)} \entails \announceE{\atomQ_0} \phi$.
This follows from the fact that the model restriction $\restrict{\kPModelP{(\top, \kStateS)}}{\atomQ_0}$ is isomorphic to the model restriction $\restrict{\kPModel{\kStateS}}{\atomQ_0}$, but with the atoms in $\atomsQ$ renamed and a new atom $\atomQ_0$ introduced that is equivalent to $\top$.
As the atoms in $\atomsQ$ do not appear in $\phi$ then the only effect that changing these variables can have in the interpretation of $\phi$ is in the positive announcements that are considered in interpreting the $\someppas$ and $\allppas$ operators of $\phi$.
We note that any positive announcement available in $\restrict{\kPModelP{(\top, \kStateS)}}{\atomQ_0}$ has an equivalent positive announcement available in $\restrict{\kPModel{\kStateS}}{\atomQ_0}$, and vice-versa, found by renaming the variables in $\atomsQ$.
\end{proof}

Lemma~\ref{diamond-lemma} can be generalised to possibility forms:

\begin{lemma}\label{possibility-lemma}
Let $\kPModelAndTuple{\kStateS} \in \classS$ be an epistemic model,
let $\phi \in \langPapal$, and
let $\psi(\sharp)$ be a possibility form such that $\kPModel{\kStateS} \entails \psi(\someppas \phi)$.
Then there exists $\kPModelP{\kStateSP} \in \classS$ such that $\kPModelP{\kStateSP} \entails \announceE{\atomP} \psi(\someppas \phi)$ where $\atomP \in \atoms$ does not appear in $\psi(\someppas \phi)$.
\end{lemma}

As in the axiomatisation of \logicApalS{} by Balbiani, et al.~\cite{balbiani:2008} this allows us to form a sound and weakly complete {\em finitary} axiomatisation by replacing the infinitary rule ${\bf R+^\omega}$ in \axiomPapalS{} with a finitary alternative of the form:
$$
\begin{array}{ll}
    {\bf R+^1} & \text{From } \nu(\announceA{\atomP} \phi) \text{ infer } \nu(\allppas \phi)
\end{array}
$$
where $\nu(\sharp)$ is a necessity form and $\atomP$ is a fresh atom.  

The soundness of ${\bf R+^1}$ follows from Lemma~\ref{possibility-lemma}, and the weak completeness of the resulting finitary axiomatisation follows from the same reasoning as in Balbiani, et al.~\cite{balbiani:2008}.
As the resulting axiomatisation is a finitary axiomatisation, it is recursively enumerable.

\section{Future work}\label{future-work}

We have yet to show whether the satisfiability problem for \logicPapalS{} is decidable.
The satisfiability problem for \logicPapalS{} is to determine for a given formula whether the formula is satisfiable.
As we have given a sound and complete axiomatisation this is equivalent to determining for a given formula whether the formula is provable using the axiomatisation.

While we have shown that \logicPapalS{} is not at least as expressive as \logicApalS{}, we do not know whether it is strictly less expressive than \logicApalS{} or it is incomparable to \logicApalS{}.
We also have yet to consider in depth the addition of the $\someppast$ operator for finite sequences of positive announcements to the logic, and particularly, how the operator effects the expressivity, decidability and complexity of the logic.

We conjecture that the satisfiability problem for \logicPapalS{} is decidable and that \logicPapalS{} is incomparable in expressivity to \logicApalS{}.
The main justification for these conjectures is related to the reason that the proof of undecidability for \logicApalS{}~\cite{french:2008} would not work directly for \logicPapalS{}.
The proof that \logicApalS{} is undecidable relies on the ability to express as a \langApal{} formula that two states of an epistemic model agree on all epistemic formulas.
This is possible essentially because the $\allpas$ operator quantifies over all epistemic formulas.
In \logicPapalS{} however the $\allppas$ operator is only able to quantify over positive formulas, enough to express that a state agrees with all of the positive formulas of another state, but not enough to express agreement on all epistemic formulas.
Conversely the $\allpas$ operator of \logicApalS{} appears to quantify over too many formulas to express that a state agrees with all of the positive formulas of another state, and so we conjecture that there are \langPapal{} formulas that do not have equivalent \langApal{} formulas and the two logics are incomparable in expressivity.
