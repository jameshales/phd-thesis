\usepackage{graphicx}
\usepackage{amsmath}
\usepackage{amsthm}
\usepackage{amssymb}
\usepackage{amsfonts}
\usepackage{mathrsfs}

% Math macro
\newcommand{\newcommandm}[2]{\newcommand{#1}{{\ensuremath{#2}}}}

% Custom caligraphic font
\DeclareFontFamily{OT1}{pzc}{}
\DeclareFontShape{OT1}{pzc}{m}{it}{<-> s * [1.10] pzcmi7t}{}
\DeclareMathAlphabet{\mathpzc}{OT1}{pzc}{m}{it}

% Miscellaneous
\newcommand{\powerset}{\mathcal{P}}
\newcommand{\naturals}{\mathbb{N}}
\renewcommand{\phi}{\varphi}

% Agents
\newcommandm{\agents}{A}
\newcommand{\agentA}{a}
\newcommand{\agentB}{b}
\newcommand{\agentC}{c}
\newcommand{\agentD}{d}
\newcommand{\agentsB}{B}
\newcommand{\agentsC}{C}
\newcommand{\agentsD}{D}

% Atoms
\newcommandm{\atoms}{P}
\newcommand{\atomsQ}{Q}
\newcommand{\atomsR}{R}
\newcommand{\atomP}{p}
\newcommand{\atomQ}{q}
\newcommand{\atomR}{r}

%%%% Kripke models %%%%

% Kripke states
\newcommand{\kState}[2][\empty]{{{#2}^{#1}}}
\newcommand{\kStateS}[1][\empty]{\kState[#1]{s}}
\newcommand{\kStateT}[1][\empty]{\kState[#1]{t}}
\newcommand{\kStateU}[1][\empty]{\kState[#1]{u}}
\newcommand{\kStateV}[1][\empty]{\kState[#1]{v}}
\newcommand{\kStateW}[1][\empty]{\kState[#1]{w}}
\newcommand{\kStateX}[1][\empty]{\kState[#1]{x}}
\newcommand{\kStateY}[1][\empty]{\kState[#1]{y}}
\newcommand{\kStateZ}[1][\empty]{\kState[#1]{z}}
\newcommand{\kStatesT}[1][\empty]{\kState[#1]{T}}
\newcommand{\kStatesU}[1][\empty]{\kState[#1]{U}}
\newcommand{\kStatesV}[1][\empty]{\kState[#1]{V}}
\newcommand{\kStatesW}[1][\empty]{\kState[#1]{W}}

% Kripke model components
\newcommand{\kStates}[1][\empty]{\ensuremath{{S^{#1}}}}
\newcommand{\kAccessibility}[2][\empty]{\ensuremath{{R^{#1}_{#2}}}}
\newcommand{\kAccessibilityRel}[1][\empty]{\kAccessibility[#1]{\empty}}
\newcommand{\kValuation}[1][\empty]{\ensuremath{{V^{#1}}}}
\newcommand{\kSuccessors}[3][\empty]{{#3} \kAccessibility[#1]{#2}}
\newcommand{\kPredecessors}[3][\empty]{\kAccessibility[#1]{#2} {#3}}

% Kripke frames
\newcommand{\kFrame}[1][\empty]{\kPFrame[#1]{}}
\newcommand{\kFrameTuple}[1][\empty]{\ensuremath{{(\kStates[#1], \kAccessibilityRel[#1])}}}
\newcommand{\kFrameAndTuple}[1][\empty]{\kFrame[#1] = \kFrameTuple[#1]}

% Kripke models
\newcommand{\kModel}[1][\empty]{\kPModel[#1]{}}
\newcommand{\kModelTuple}[1][\empty]{\ensuremath{{(\kStates[#1], \kAccessibilityRel[#1], \kValuation[#1])}}}
\newcommand{\kModelAndTuple}[1][\empty]{\kModel[#1] = \kModelTuple[#1]}

% Pointed Kripke models
\newcommand{\kPModel}[2][\empty]{\ensuremath{{M^{#1}_{#2}}}}
\newcommand{\kPModelTuple}[2][\empty]{\ensuremath{{(\kModelTuple[#1], {#2})}}}
\newcommand{\kPModelAndTuple}[2][\empty]{\kPModel[#1]{#2} = \kPModelTuple[#1]{#2}}

%%%% Action models %%%%

% Action states
\newcommand{\aState}[2][\empty]{{\mathsf{{#2}}^{#1}}}
\newcommand{\aStateS}[1][\empty]{\aState[#1]{s}}
\newcommand{\aStateT}[1][\empty]{\aState[#1]{t}}
\newcommand{\aStateU}[1][\empty]{\aState[#1]{u}}
\newcommand{\aStateV}[1][\empty]{\aState[#1]{v}}
\newcommand{\aStateW}[1][\empty]{\aState[#1]{w}}
\newcommand{\aStateX}[1][\empty]{\aState[#1]{x}}
\newcommand{\aStateY}[1][\empty]{\aState[#1]{y}}
\newcommand{\aStatesT}[1][\empty]{\aState[#1]{T}}
\newcommand{\aStatesU}[1][\empty]{\aState[#1]{U}}
\newcommand{\aStatesV}[1][\empty]{\aState[#1]{V}}
\newcommand{\aStatesW}[1][\empty]{\aState[#1]{W}}
\newcommand{\aPStateS}[1][\empty]{\aState[#1]{\bar{s}}}
\newcommand{\aPStateT}[1][\empty]{\aState[#1]{\bar{t}}}
\newcommand{\aPStateU}[1][\empty]{\aState[#1]{\bar{u}}}
\newcommand{\aPStateV}[1][\empty]{\aState[#1]{\bar{v}}}
\newcommand{\aPStateW}[1][\empty]{\aState[#1]{\bar{w}}}

% Action model components
\newcommand{\aStates}[1][\empty]{\ensuremath{{\mathsf{S}^{#1}}}}
\newcommand{\aAccessibility}[2][\empty]{\ensuremath{{\mathsf{R}^{#1}_{#2}}}}
\newcommand{\aAccessibilityRel}[1][\empty]{\aAccessibility[#1]{\empty}}
\newcommand{\aPrecondition}[1][\empty]{\ensuremath{{\mathsf{pre}^{#1}}}}
\newcommand{\aSuccessors}[3][\empty]{{#3} \aAccessibility[#1]{#2}}
\newcommand{\aPredecessors}[3][\empty]{\aAccessibility[#1]{#2} {#3}}

% Action frames
\newcommand{\aFrame}[1][\empty]{\aPFrame[#1]{}}
\newcommand{\aFrameTuple}[1][\empty]{\ensuremath{{(\aStates[#1], \aAccessibilityRel[#1])}}}
\newcommand{\aFrameAndTuple}[1][\empty]{\aFrame[#1] = \aFrameTuple[#1]}

% Action models
\newcommand{\aModel}[1][\empty]{\ensuremath{{\mathsf{M}^{#1}}}}
\newcommand{\aModelTuple}[1][\empty]{\ensuremath{{(\aStates[#1], \aAccessibilityRel[#1], \aPrecondition[#1])}}}
\newcommand{\aModelAndTuple}[1][\empty]{\aModel[#1] = \aModelTuple[#1]}

% Pointed action models
\newcommand{\aPModel}[2][\empty]{\ensuremath{{\mathsf{M}^{#1}_{#2}}}}
\newcommand{\aPModelTuple}[2][\empty]{\ensuremath{{(\aModelTuple[#1], {#2})}}}
\newcommand{\aPModelAndTuple}[2][\empty]{\aPModel[#1]{#2} = \aPModelTuple[#1]{#2}}

% Action signatures
\newcommand{\aSignature}[1][\empty]{\ensuremath{\mathsf{\Sigma}^{#1}}}
\newcommand{\aSignatureTuple}[1][\empty]{\ensuremath{(\aStates[#1], \aAccessibilityRel[#1], (\aStateS[#1]_1, \dots, \aStateS[#1]_n))}}
\newcommand{\aSignatureAndTuple}[1][\empty]{\aSignature[#1] = \aSignatureTuple[#1]}
\newcommand{\aSignatureFamily}[1][\empty]{\ensuremath{\mathpzc{S}^{#1}}}

% Special action models: skip and crash
\newcommandm{\aSkip}{\mathsf{skip}}
\newcommandm{\aCrash}{\mathsf{crash}}

% Bisimulation, simulation, refinements
\newcommand{\bisimilar}[1][\empty]{\simeq_{#1}}
\newcommand{\refines}[1][\empty]{\preceq_{#1}}
\newcommand{\simulates}[1][\empty]{\succeq_{#1}}
\newcommand{\mutualrefines}[1][\empty]{{\bowtie}_{#1}}
\newcommand{\bisimulation}{\mathfrak{R}}
\newcommand{\refinement}{\bisimulation}

%%%% Logical operators %%%%

% Meta-Logical operators
\newcommand{\proves}{\vdash}
\newcommand{\entails}{\vDash}
\newcommand{\nproves}{\nvdash}
\newcommand{\nentails}{\nvDash}
\newcommand{\nequiv}{\not\equiv}
\newcommand{\interpretation}[2][\empty]{[\![{#2}]\!]_{#1}}

% Propositional operators
\renewcommand{\implies}{\rightarrow}
\renewcommand{\iff}{\leftrightarrow}

% Modal operators
\newcommand{\necessary}[1][\empty]{{{\raisebox{-1pt}{$\square$}}_{#1}}}
\newcommand{\possible}[1][\empty]{{{\raisebox{-1pt}{$\Diamond$}}_{#1}}}
\newcommand{\believes}{\necessary}
\newcommand{\knows}{\necessary}
\newcommand{\suspects}{\possible}

% Cover operator
\newcommand{\cover}[1][\empty]{\nabla_{#1}}
\newcommand{\revoc}[1][\empty]{\triangle_{#1}}
\newcommand{\covers}{\cover}

% Public announcement operators
\newcommand{\restrict}[2]{{{#1} | {#2}}}
\newcommand{\announceE}[1]{\langle #1 \rangle}
\newcommand{\announceA}[1]{[ #1 ]}

% Action model operators
\newcommand{\exec}{\otimes}
\newcommand{\actionE}[1]{{\langle {#1} \rangle}}
\newcommand{\actionA}[1]{{[ {#1} ]}}

% Refinement modal operators
\newcommandm{\somerefs}{\exists}
\newcommandm{\allrefs}{\forall}

% Arbitrary public announcement operators
\newcommandm{\somepas}{\exists}
\newcommandm{\allpas}{\forall}

% Arbitrary positive announcement operators
\newcommandm{\someppas}{\exists}
\newcommandm{\allppas}{\forall}

% Arbitrary action model operators
\newcommandm{\someacts}{\exists}
\newcommandm{\allacts}{\forall}

% Action formula operators
\newcommand{\test}[1]{?{#1}}
\newcommand{\announce}[1]{!{#1}}
\newcommand{\learns}{L}
\newcommand{\choice}{\sqcup}
\newcommand{\bigchoice}{\bigsqcup}
\newcommand{\compose}{\otimes}
\newcommand{\bigcompose}{\bigotimes}
%\newcommand{\choice}{\cup}
%\newcommand{\compose}{;}
\newcommand{\lchoice}{!}
\newcommand{\rchoice}{\text{!`}}

%%%% Logics %%%%

% Languages
\newcommandm{\lang}{\mathpzc{L}} % Modal
\newcommandm{\langPl}{\lang_\mathit{pl}} % Propositional
\newcommandm{\langMl}{\lang_\mathit{ml}} % Modal logic
\newcommandm{\langMlPlus}{\lang_\mathit{ml}^{+}} % Positive
\newcommandm{\langPal}{\lang_\mathit{pal}} % Public announcement logic
\newcommandm{\langAml}{\lang_\mathit{aml}} % Action model logic
\newcommandm{\langAfl}{\lang_\mathit{afl}} % Action formula logic
\newcommandm{\langAflAct}{\lang_\mathit{afl}^\mathit{act}} % Action formula logic actions
\newcommandm{\langApal}{\lang_\mathit{apal}} % Arbitrary public announcement logic
\newcommandm{\langPapal}{\lang_\mathit{apal^+}} % Positive arbitrary public announcement logic
\newcommandm{\langRml}{\lang_\mathit{rml}} % Refinement modal logic
\newcommandm{\langAaml}{\lang_\mathit{aaml}} % Arbitrary action model logic
\newcommandm{\langAafl}{\lang_\mathit{aafl}} % Arbitrary action formula logic
\newcommandm{\langAaflAct}{\lang_\mathit{aafl}^\mathit{act}} % Arbitrary action formula logic actions

% Modal classes, logics and axiomatisations
\newcommand{\newmodalclass}[2]{%
\expandafter\newcommandm\csname class#1\endcsname{{\mathpzc{#2}}}
\expandafter\newcommandm\csname classAm#1\endcsname{{\mathpzc{AM}_\@nameuse{class#1}}}
\expandafter\newcommandm\csname logic#1\endcsname{{\textit{#2}}}
\expandafter\newcommandm\csname logicPal#1\endcsname{\textit{PAL}_\@nameuse{logic#1}}
\expandafter\newcommandm\csname logicAml#1\endcsname{\textit{AML}_\@nameuse{logic#1}}
\expandafter\newcommandm\csname logicAfl#1\endcsname{\textit{AFL}_\@nameuse{logic#1}}
\expandafter\newcommandm\csname logicApal#1\endcsname{\textit{APAL}_\@nameuse{logic#1}}
\expandafter\newcommandm\csname logicPapal#1\endcsname{\textit{APAL^{+}}_\@nameuse{logic#1}}
\expandafter\newcommandm\csname logicRml#1\endcsname{\textit{RML}_\@nameuse{logic#1}}
\expandafter\newcommandm\csname logicAaml#1\endcsname{\textit{AAML}_\@nameuse{logic#1}}
\expandafter\newcommandm\csname logicAafl#1\endcsname{\textit{AAFL}_\@nameuse{logic#1}}
\expandafter\newcommandm\csname axiom#1\endcsname{\mathrm{\mathbf{#2}}}
\expandafter\newcommandm\csname axiomPal#1\endcsname{{\mathrm{\mathbf{PAL}}_\@nameuse{axiom#1}}}
\expandafter\newcommandm\csname axiomAml#1\endcsname{{\mathrm{\mathbf{AML}}_\@nameuse{axiom#1}}}
\expandafter\newcommandm\csname axiomAfl#1\endcsname{{\mathrm{\mathbf{AFL}}_\@nameuse{axiom#1}}}
\expandafter\newcommandm\csname axiomApal#1\endcsname{{\mathrm{\mathbf{APAL}}_\@nameuse{axiom#1}}}
\expandafter\newcommandm\csname axiomPapal#1\endcsname{{\mathrm{\mathbf{APAL^{+}}}_\@nameuse{axiom#1}}}
\expandafter\newcommandm\csname axiomRml#1\endcsname{{\mathrm{\mathbf{RML}}_\@nameuse{axiom#1}}}
\expandafter\newcommandm\csname axiomAaml#1\endcsname{{\mathrm{\mathbf{AAML}}_\@nameuse{axiom#1}}}
\expandafter\newcommandm\csname axiomAafl#1\endcsname{{\mathrm{\mathbf{AAFL}}_\@nameuse{axiom#1}}}
}

\newmodalclass{C}{C}
\newmodalclass{K}{K}
\newmodalclass{KF}{K4}
\newmodalclass{KFF}{K45}
\newmodalclass{KD}{KD45}
\newmodalclass{SF}{S4}
\newmodalclass{S}{S5}

%%%% Theorems %%%%

\theoremstyle{plain}% default
\newtheorem{theorem}{Theorem}[section]
\newtheorem{lemma}[theorem]{Lemma}
\newtheorem{proposition}[theorem]{Proposition}
\newtheorem{corollary}[theorem]{Corollary}
\newtheorem*{properties}{Properties}
\theoremstyle{definition}
\newtheorem{definition}{Definition}[section]
\newtheorem{example}{Example}[section]
\theoremstyle{remark}
\newtheorem*{remark}{Remark}
\newtheorem*{note}{Note}
